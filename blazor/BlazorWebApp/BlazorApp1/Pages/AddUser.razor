@page "/addUser"
@using BlazorApp1.Models
@using BlazorApp1.Services

@inject IService<Utilisateur> UtilisateurService

<h3>Ajouter un utilisateur</h3>


<UserForm Model="Model" OnSubmit="Submit" ButtonText="Ajouter un nouvel Utilisateur"></UserForm>

@code {
    [SupplyParameterFromForm] private Utilisateur? Model { get; set; } = new Utilisateur();

    private async void Submit()
    {
        if (await UtilisateurService.PostAsync("Utilisateurs", Model))
        {
            Console.WriteLine("Utilisateur ajouté");
        }
        else
        {
            Console.WriteLine("Erreur lors de l'ajout de l'utilisateur");
        }
    }

}